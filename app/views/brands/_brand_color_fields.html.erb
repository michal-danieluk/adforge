<div class="nested-fields mb-3 p-4 border border-gray-300 rounded-md bg-gray-50" data-controller="color-picker">
  <div class="flex items-center gap-4">
    <div class="flex-1">
      <%= form.label :hex_value, "Color (Hex)", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <div class="flex gap-2 items-center">
        <input type="color"
               data-color-picker-target="picker"
               data-action="input->color-picker#updateInput"
               class="h-10 w-16 rounded border-gray-300 cursor-pointer">
        <%= form.text_field :hex_value,
                            placeholder: "#FF5733",
                            data: { color_picker_target: "input", action: "input->color-picker#updatePicker" },
                            class: "block shadow-sm rounded-md border border-gray-400 px-3 py-2 flex-1" %>
      </div>
    </div>

    <div class="flex items-center gap-2 mt-6">
      <%= form.check_box :primary, class: "rounded border-gray-300 text-blue-600 focus:ring-blue-500" %>
      <%= form.label :primary, "Primary", class: "text-sm font-medium text-gray-700" %>
    </div>

    <div class="mt-6">
      <button type="button" data-action="click->nested-form#remove" class="rounded-md px-3 py-2 bg-red-100 hover:bg-red-200 text-red-700 font-medium cursor-pointer">
        Remove
      </button>
    </div>
  </div>

  <%= form.hidden_field :_destroy %>
</div>
