<div id="campaign_<%= campaign.id %>_status">
  <% if campaign.draft? %>
    <div class="bg-gray-50 border border-gray-200 rounded-lg p-6 text-center">
      <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
      </svg>
      <h3 class="mt-4 text-lg font-semibold text-gray-900">Gotowe do generowania</h3>
      <p class="mt-2 text-sm text-gray-600 max-w-sm mx-auto">
        Kliknij przycisk poniżej, aby wygenerować 3 unikalne koncepcje reklamowe przy użyciu AI.
      </p>
      <%= button_to "Generuj 3 koncepcje reklamowe",
                    generate_campaign_path(campaign),
                    method: :post,
                    data: { turbo_submits_with: "Generowanie..." },
                    class: "mt-6 inline-block rounded-md px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold text-sm transition-colors ring-2 ring-indigo-500 ring-offset-2" %>
    </div>

  <% elsif campaign.processing? %>
    <div class="bg-blue-50 border-l-4 border-blue-500 p-6 rounded">
      <div class="flex items-center">
        <svg class="animate-spin h-8 w-8 text-blue-600 mr-4" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <div>
          <p class="text-blue-700 font-semibold text-lg">Generowanie przez AI...</p>
          <p class="text-blue-600 text-sm mt-1">Tworzenie 3 unikalnych koncepcji reklamowych. To zazwyczaj trwa 30-60 sekund.</p>
        </div>
      </div>
    </div>
    <meta http-equiv="refresh" content="3">

  <% elsif campaign.completed? %>
    <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded mb-6">
      <div class="flex items-center">
        <svg class="h-6 w-6 text-green-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        <div>
          <p class="text-green-700 font-medium">Generowanie zakończone!</p>
          <p class="text-green-600 text-sm">3 koncepcje reklamowe zostały pomyślnie utworzone.</p>
        </div>
      </div>
    </div>
    <%= button_to "Wygeneruj 3 kolejne koncepcje",
                  generate_campaign_path(campaign),
                  method: :post,
                  data: { turbo_submits_with: "Generowanie..." },
                  class: "inline-block rounded-md px-4 py-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium text-sm transition-colors" %>

  <% elsif campaign.failed? %>
    <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded">
      <div class="flex items-start">
        <svg class="h-6 w-6 text-red-600 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <div class="flex-1">
          <p class="text-red-700 font-medium">Generowanie nie powiodło się</p>
          <p class="text-red-600 text-sm mt-1">
            <%= defined?(error_message) && error_message.present? ? error_message : "Wystąpił błąd podczas generowania. Spróbuj ponownie." %>
          </p>
          <%= button_to "Spróbuj ponownie",
                        generate_campaign_path(campaign),
                        method: :post,
                        data: { turbo_submits_with: "Ponowna próba..." },
                        class: "mt-4 inline-block rounded-md px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-semibold text-sm transition-colors" %>
        </div>
      </div>
    </div>
  <% end %>
</div>
