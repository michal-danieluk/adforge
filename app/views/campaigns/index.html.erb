<% content_for :title, "Kampanie" %>

<div class="w-full">
  <div class="flex justify-between items-center mb-8">
    <div>
      <h1 class="text-3xl font-bold text-zinc-900">Kampanie</h1>
      <p class="mt-1 text-sm text-zinc-500">Zarządzaj swoimi kampaniami reklamowymi</p>
    </div>
    <%= link_to "+ Nowa Kampania", new_campaign_path, class: "px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium text-sm rounded-md shadow-sm transition-colors" %>
  </div>

  <% if @campaigns.any? %>
    <!-- Grid of Campaign Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <% @campaigns.each do |campaign| %>
        <%= link_to campaign, class: "block" do %>
          <div class="bg-white border border-zinc-200 rounded-xl overflow-hidden hover:border-indigo-300 transition-colors cursor-pointer">
            <!-- Colored top bar (brand color) -->
            <div class="h-1" style="background-color: <%= campaign.brand_primary_color %>;"></div>

            <!-- Card content -->
            <div class="p-6">
              <!-- Campaign name -->
              <h3 class="text-lg font-semibold text-zinc-900 mb-2"><%= campaign.product_name %></h3>

              <!-- Target audience -->
              <p class="text-sm text-zinc-500 mb-4 line-clamp-2">
                <%= campaign.target_audience %>
              </p>

              <!-- Brand badge -->
              <div class="flex items-center gap-2 mb-3">
                <div class="w-4 h-4 rounded" style="background-color: <%= campaign.brand_primary_color %>;"></div>
                <span class="text-xs text-zinc-500"><%= campaign.brand.name %></span>
              </div>

              <!-- Meta info -->
              <div class="flex items-center justify-between text-xs text-zinc-400 pt-3 border-t border-zinc-100">
                <span><%= time_ago_in_words(campaign.created_at) %> temu</span>
                <span><%= campaign.creatives.count %> <%= campaign.creatives.count == 1 ? 'ogłoszenie' : campaign.creatives.count < 5 ? 'ogłoszenia' : 'ogłoszeń' %></span>
              </div>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <!-- Empty State -->
    <div class="border-2 border-dashed border-zinc-300 rounded-lg p-12 text-center">
      <!-- Heroicon: megaphone -->
      <svg class="mx-auto h-12 w-12 text-zinc-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" />
      </svg>

      <h3 class="mt-4 text-lg font-semibold text-zinc-900">
        Brak kampanii
      </h3>
      <p class="mt-2 text-sm text-zinc-500 max-w-sm mx-auto">
        Stwórz swoją pierwszą kampanię i zacznij generować ogłoszenia oparte na AI dla swojej marki.
      </p>

      <%= link_to "+ Stwórz pierwszą kampanię", new_campaign_path, class: "mt-6 inline-block px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-medium text-sm rounded-md shadow-sm transition-colors" %>
    </div>
  <% end %>
</div>
